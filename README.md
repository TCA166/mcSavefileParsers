# mcSavefileParsers

Multiple programs for Minecraft savefile data extraction and 3D model generation based savefiles.  

## Compilation

On linux compilation is straightforward: run compile.sh. Crosscompilation or compilation under Windows is possible, but first you need to install zlib. After that everything should compile smoothly

## regionFileReader

This program extracts all the chunks in the given region file into nbt files that will be created in the provided directory.

```Bash
regionFileReader <path to region file> <output directory>
```

## chunkExtractor

This program extracts only a single chunk with the given chunk coordinates into an nbt file.

```Bash
chunkExtractor <path to region directory> <x> <z>
```

## modelGenerator

This program generates a waveform(.obj) 3d model file from an nbt file containing data about a specific chunk. Ideally this nbt file will be extracted using one of the tools above.

```Bash
modelGenerator <path to nbt file> <args>
```

The program accepts the following additional arguments:

- -l $y+ $y- :limits the result model to the given vertical range
- -f :disables face culling
- -h :displays help
- -s $s :changes the block side in the result side to the given s argument
- -m $filename :sets the given filename as the source mtl file

## mtlGen

Generation of specific mtl files for the modelGenerator to use is rather tricky. Thus I also made a python script that generates valid mtl files from texture packs.

```Bash
python3 mtlGen.py <path to /assets/minecraft/textures/block folder of a texture pack> <args>
```

The script accepts the following additional arguments:

- -s :Generates a simplified mtl file that doesn't use textures, but solid colors generated by averaging out RGBA values of all pixels
- -t :Causes all textures with _top in name to be generated without it

## cNBT

For parsing of the nbt files I have chosen to use the [cNBT](https://github.com/chmod222/cNBT/tree/master) library. These files are located in the appropriately named folder and need to be compiled using the script next to them to make the modelGenerator compile properly.

## API

Most of the code has been organized into three "libraries". regionParser which handles nbt extraction from region files, chunkParser which extracts data from chunk nbts and finally model which handles generating models from chunk data.

## License

[![CCimg](https://i.creativecommons.org/l/by/4.0/88x31.png)](http://creativecommons.org/licenses/by/4.0/)  
This work is licensed under a [Creative Commons Attribution 4.0 International License](http://creativecommons.org/licenses/by/4.0/).  
